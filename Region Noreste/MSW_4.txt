enable
configure terminal
hostname MSW_4

! -- SSH 
username admin secret class
ip domain-name juanmark.com
crypto key generate rsa
1024
line vty 0 4
 login local
 transport input ssh


int vlan 100 
ip address 148.60.100.103 255.255.255.0
ip default-gateway 148.60.100.1
no shut

! -- CREACIÓN DE VLANS 
vlan 97
 name GESTION_TI
vlan 98
 name Ventas
vlan 99
 name COMPRAS
vlan 100
 name SERVICIOS
vlan 200
 name CONEXION_ROUTERS
exit

! -- STP 
spanning-tree mode pvst

! -- CONFIGURACIÓN DE PUERTOS 

! TRONCALES (Gi1/0/1 - Gi1/0/4)
interface range GigabitEthernet1/0/1-4
 switchport mode trunk
 switchport nonegotiate
 no shutdown
exit

! GESTION_TI 
interface range GigabitEthernet1/0/5-9
 switchport access vlan 97
 switchport mode access
 switchport port-security
 switchport port-security maximum 4
 switchport port-security mac-address sticky
 switchport port-security violation restrict
 spanning-tree portfast
 no shutdown
exit

! VENTAS 
interface range GigabitEthernet1/0/10-14
 switchport access vlan 98
 switchport mode access
 switchport port-security
 switchport port-security maximum 4
 switchport port-security mac-address sticky
 switchport port-security violation restrict
 spanning-tree portfast
 no shutdown
exit

! COMPRAS 
interface range GigabitEthernet1/0/15-19
 switchport access vlan 99
 switchport mode access
 switchport port-security
 switchport port-security maximum 4
 switchport port-security mac-address sticky
 switchport port-security violation restrict
 spanning-tree portfast
 no shutdown
exit

! SERVICIOS 
interface range GigabitEthernet1/0/20-24
 switchport access vlan 100
 switchport mode access
 switchport port-security
 switchport port-security maximum 4
 switchport port-security mac-address sticky
 switchport port-security violation restrict
 spanning-tree portfast
 no shutdown
exit